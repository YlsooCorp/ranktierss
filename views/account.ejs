<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head', { pageTitle }) %>
  <body class="mc-body">
    <div class="mc-background"></div>
    <%- include('partials/navbar', { navActive: null }) %>

    <main class="mc-main">
      <section class="mc-section">
        <div class="mc-container">
          <header class="mc-section__header">
            <p class="mc-tag">Account</p>
            <h1 class="mc-heading">Link your Minecraft IGN</h1>
            <p class="mc-text-muted">Connect your in-game name so we can verify submissions and show you on the leaderboard.</p>
          </header>

          <% if (error) { %>
            <div class="mc-notice mc-notice--error"><%= error %></div>
          <% } %>

          <div class="mc-grid mc-grid--split">
            <form class="mc-card mc-form" method="POST" action="/account/link">
              <input type="hidden" name="game" value="Minecraft" />
              <label for="ign">Minecraft IGN</label>
              <input id="ign" class="mc-input" type="text" name="game_username" placeholder="Dream" required />
              <p class="mc-text-muted">Use the exact IGN that appears on the server. Updates replace your previous entry.</p>
              <button class="mc-button mc-button--accent" type="submit">Save IGN</button>
            </form>

            <section class="mc-card mc-linked">
              <h2>Linked Minecraft Accounts</h2>
              <% if (linked && linked.length > 0) { %>
                <ul>
                  <% linked.forEach(account => { %>
                    <li>
                      <span class="mc-linked__game"><%= account.game %></span>
                      <strong><%= account.game_username %></strong>
                    </li>
                  <% }) %>
                </ul>
              <% } else { %>
                <p>You haven't linked a Minecraft IGN yet.</p>
              <% } %>
            </section>
          </div>
        </div>
      </section>
    </main>

    <%- include('partials/footer') %>
  </body>
</html>
