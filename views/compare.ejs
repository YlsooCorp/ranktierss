<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head', { pageTitle }) %>
  <body class="mc-body">
    <div class="mc-background"></div>
    <%- include('partials/navbar', { navActive: null }) %>

    <main class="mc-main">
      <section class="mc-section">
        <div class="mc-container mc-compare">
          <header class="mc-section__header">
            <p class="mc-tag">Head-to-Head</p>
            <h1 class="mc-heading">Compare Minecraft Players</h1>
            <p class="mc-text-muted">Measure points, average performance, and kit history side by side.</p>
          </header>

          <form class="mc-card mc-form mc-compare__form" method="GET" action="/compare">
            <div class="mc-grid mc-grid--split">
              <div>
                <label for="player1">Player 1</label>
                <input id="player1" class="mc-input" type="text" name="player1" placeholder="Player One" required />
              </div>
              <div>
                <label for="player2">Player 2</label>
                <input id="player2" class="mc-input" type="text" name="player2" placeholder="Player Two" required />
              </div>
            </div>
            <button class="mc-button mc-button--accent" type="submit">Compare</button>
          </form>

          <% if (error) { %>
            <div class="mc-notice mc-notice--error"><%= error %></div>
          <% } else if (player1 && player2) { %>
            <section class="mc-compare__results">
              <article class="mc-card mc-compare__card">
                <h2><%= player1.username %></h2>
                <ul>
                  <li><span>Total Points</span><strong><%= total1 %></strong></li>
                  <li><span>Games Played</span><strong><%= totalGames1 %></strong></li>
                  <li><span>Average Points</span><strong><%= avg1 %></strong></li>
                  <li><span>Win Rate</span><strong><%= winRate1 %>%</strong></li>
                </ul>
                <h3>Kits &amp; Tiers</h3>
                <ul class="mc-compare__kits">
                  <% kits1.forEach(k => { %>
                    <li><%= k %></li>
                  <% }) %>
                </ul>
              </article>

              <div class="mc-compare__vs">VS</div>

              <article class="mc-card mc-compare__card">
                <h2><%= player2.username %></h2>
                <ul>
                  <li><span>Total Points</span><strong><%= total2 %></strong></li>
                  <li><span>Games Played</span><strong><%= totalGames2 %></strong></li>
                  <li><span>Average Points</span><strong><%= avg2 %></strong></li>
                  <li><span>Win Rate</span><strong><%= winRate2 %>%</strong></li>
                </ul>
                <h3>Kits &amp; Tiers</h3>
                <ul class="mc-compare__kits">
                  <% kits2.forEach(k => { %>
                    <li><%= k %></li>
                  <% }) %>
                </ul>
              </article>
            </section>
          <% } %>
        </div>
      </section>
    </main>

    <%- include('partials/footer') %>
  </body>
</html>
